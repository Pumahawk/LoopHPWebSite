<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Creare un applicazione | LoopHP</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Creare un applicazione" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Creare un’applicazione" />
<meta property="og:description" content="Creare un’applicazione" />
<link rel="canonical" href="/LoopHPWebSite/docs/Creare%20un%20applicazione.html" />
<meta property="og:url" content="/LoopHPWebSite/docs/Creare%20un%20applicazione.html" />
<meta property="og:site_name" content="LoopHP" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-12T00:32:35+01:00" />
<script type="application/ld+json">
{"description":"Creare un’applicazione","@type":"BlogPosting","url":"/LoopHPWebSite/docs/Creare%20un%20applicazione.html","headline":"Creare un applicazione","dateModified":"2019-03-12T00:32:35+01:00","datePublished":"2019-03-12T00:32:35+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"/LoopHPWebSite/docs/Creare%20un%20applicazione.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/LoopHPWebSite/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/LoopHPWebSite/feed.xml" title="LoopHP" /></head>
<link rel="stylesheet" href="/LoopHPWebSite/assets/css/style.css"><body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="/LoopHPWebSite/">LoopHP</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="/LoopHPWebSite/indexpages.html">SinglePageWikiGenerator</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Navigation content
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="/LoopHPWebSite/all-guides.html">All guides</a>
            <a class="dropdown-item" href="/LoopHPWebSite/all-docs.html">All documentation pages</a>
          <a class="dropdown-item" href="/LoopHPWebSite/index-pages-doc.html">Index single documentation page</a>
        </div>
      </li>
    </ul>
  </div>
</nav><main class="page-content" aria-label="Content">
  <div class="wrapper">
    <h1 id="creare-unapplicazione">Creare un’applicazione</h1>

<p>Nella creazione di un’applicazione possiamo decidere l’organizzazione dei 
file. E’ possibile che a seconda delle limitazioni imposte dalla piattaforma che
stiamo utilizzando non sia possibile utilizzare sempre lo stesso schema per 
tutte le nostre applicazioni. Questo puo’ capitare soprattutto in applicazioni
gia’ iniziate alle quali dobbiamo apportare delle modifiche.</p>

<p>In questa guida immaginiamo di realizzare un’applicazione web per la visualizzazione
di un sito internet, prendendo spunto dal file di test <code class="highlighter-rouge">test/App/Exemple/SimpleApplicationTest.php</code>.</p>

<p>A differenza della guida sulla <a href="Configurazione-oggetto-App">Configurazione dell’oggetto App</a> mostriamo anche come 
l’organizzazione del controller e del template.</p>

<p>Possiamo immaginare di voler strutturare la nostra applicazione in questo modo,
dove <em>index.php</em> e’ la home del sito che stiamo creando.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/
├── index.php
└── src
    ├── api
    │   └── controller
    │       └── Controller.php
    └── template
        └── home.php

</code></pre></div></div>

<p>Una volta decisa la struttura della nostra applicazione non resta che scaricare le librerie
utilizzando composer.</p>

<p>Spostiamoci dentro la cartella src</p>

<p><code class="highlighter-rouge">cd src</code></p>

<p>Creiamo il file <strong>composer.json</strong> e aggiungiamo il seguente contenuto.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"repositories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vcs"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/Pumahawk/LoopHP.git"</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
    </span><span class="s2">"require"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"Pumahawk/LoopHP"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dev-master"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<p><strong>Attenzione!! Durante la scrittura di questa wiki LoopHP non e’ ancora presente
su <a href="https://packagist.org/">Packagist</a>.</strong></p>

<p>Avviamo composer e scarichiamo le librerie.</p>

<p><code class="highlighter-rouge">composer install</code></p>

<p>Adesso la struttura delle cartelle dovrebbe essere simile alla seguente struttura:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/
├── index.php
└── src
    ├── api
    │   └── controller
    │       └── Controller.php
    ├── composer.json
    ├── template
    │   └── home.php
    └── vendor
        └── autoload.php

</code></pre></div></div>

<p>Rimangono soltanto da modificare i seguenti file:</p>

<ul>
  <li><em>index.php</em></li>
  <li><em>src/template/home.php</em></li>
  <li><em>src/api/controller/Controller.php</em></li>
</ul>

<p><strong>src/template/home.php</strong></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Ciao mondo!<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    Ciao mondo!
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre></div></div>

<p><strong>src/api/controller/Controller.php</strong></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">namespace</span> <span class="nx">C</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">LoopHP\Controller\BaseController</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Controller</span> <span class="k">extends</span> <span class="nx">BaseController</span> <span class="p">{</span>
  <span class="k">public</span> <span class="k">function</span> <span class="nf">home</span><span class="p">(){</span>
    <span class="k">echo</span> <span class="nv">$this</span> <span class="o">-&gt;</span> <span class="na">tEngine</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="na">render</span><span class="p">(</span><span class="s1">'home.php'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>
<p><strong>index.php</strong></p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">require</span> <span class="nx">__DIR__</span><span class="o">.</span><span class="s1">'/src/vendor/autoload.php'</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">LoopHP\App</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">LoopHP\AppConfiguration</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">LoopHP\Matchable\StaticMatch</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">LoopHP\ControllerData</span><span class="p">;</span>

<span class="nv">$srcDir</span> <span class="o">=</span> <span class="nx">__DIR__</span><span class="o">.</span><span class="s1">'/src'</span><span class="p">;</span>

<span class="nv">$appConfig</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AppConfiguration</span><span class="p">();</span>
    <span class="nv">$appConfig</span> 
      <span class="o">-&gt;</span> <span class="na">setTemplate</span><span class="p">(</span><span class="nv">$srcDir</span><span class="o">.</span><span class="s1">'/template'</span><span class="p">)</span>
      <span class="o">-&gt;</span> <span class="na">addApi</span><span class="p">(</span><span class="s1">'C\\'</span><span class="p">,</span> <span class="nv">$srcDir</span><span class="o">.</span><span class="s1">'/api/controller'</span><span class="p">)</span>
      <span class="o">-&gt;</span> <span class="na">setComposer</span><span class="p">(</span><span class="k">require</span><span class="p">(</span><span class="nx">__DIR__</span><span class="o">.</span><span class="s1">'/src/vendor/autoload.php'</span><span class="p">));</span>

<span class="nv">$controllerData</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ControllerData</span><span class="p">(</span><span class="s1">'C\\Controller'</span><span class="p">,</span> <span class="s1">'home'</span><span class="p">);</span>
<span class="nv">$matcher</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">StaticMatch</span><span class="p">(</span><span class="nv">$controllerData</span><span class="p">);</span>

<span class="nv">$app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">App</span><span class="p">(</span><span class="nv">$appConfig</span><span class="p">,</span> <span class="nv">$matcher</span><span class="p">);</span>
<span class="nv">$app</span> <span class="o">-&gt;</span> <span class="na">setApiLoader</span><span class="p">();</span>

<span class="nv">$app</span> <span class="o">-&gt;</span> <span class="na">start</span><span class="p">();</span>

</code></pre></div></div>

<p>Nel file <em>index.php</em> e’ stato utilizzato <code class="highlighter-rouge">StaticMatch</code> perche’ non richiede particolari
configurazioni del server.</p>

    <div class="top-30"></div>
    <hr>
    <div class="top-30"></div>
    <div class="row">
      
        <div class="col-sm"><a href="/LoopHPWebSite/docs/Configurazione%20oggetto%20App.html"><button type="button" class="btn btn-outline-dark"><i class="material-icons">navigate_before</i></button></a></div>
      
      
        <div class="col-sm"><a href="/LoopHPWebSite/docs/Template.html"><button type="button" class="btn btn-outline-dark"><i class="material-icons">navigate_next</i></button></a></div>
      
    </div>
  </div>
</main>
<script src="/LoopHPWebSite/bower_components/jquery/dist/jquery.js" charset="utf-8"></script>
<script src="/LoopHPWebSite/bower_components/bootstrap/dist/js/bootstrap.bundle.js" charset="utf-8"></script>

  </body>

</html>
